<!DOCTYPE html>
<HTML lang="en">
    <head>
        <meta charset="utf-8">
        <title>Workshop 3</title>
        <link rel="stylesheet" href="style.css">
        <script>
            // Exercise 1 - Button click events
            function showAlert() {
                let currentDate = new Date();
                alert("You clicked me! " + currentDate);
            }

            function showTable() {
                document.write(`
                    <table>
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Position</th>
                                <th>Salary</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Tiger Nixon</td>
                                <td>System Architect</td>
                                <td>$320,800</td>
                            </tr>
                            <tr>
                                <td>Garrett Winters</td>
                                <td>Accountant</td>
                                <td>$170,750</td>
                            </tr>
                            <tr>
                                <td>Ashton Cox</td>
                                <td>Junior Technical Author</td>
                                <td>$86,000</td>
                            </tr>
                            <tr>
                                <td>Cedric Kelly</td>
                                <td>Senior Javascript Developer</td>
                                <td>$433,060</td>
                            </tr>
                            <tr>
                                <td>Airi Satou</td>
                                <td>Accountant</td>
                                <td>$162,700</td>
                            </tr>
                        </tbody>
                    </table>
                `);
            }

            function getGeolocation() {
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(function(position) {
                        let latitude = position.coords.latitude;
                        let longitude = position.coords.longitude;
                        console.log("Latitude: " + latitude + " Longitude: " + longitude);
                        document.write("Latitude: " + latitude + "<br>Longitude: " + longitude);
                        window.location.href = `https://www.google.com/maps?q=${latitude},${longitude}`;
                    });
                } else {
                    alert("Geolocation is not supported by this browser.");
                }
            }

            // Exercise 2 - onMouseOver and onMouseOut events
            function mouseOver() {
                console.log("Stepped over by a mouse!");
            }

            function mouseOut() {
                alert("Bye bye mouse!");
            }

            // Exercise 3 - Form events
            function focusTextArea() {
                document.getElementById("charcount").innerHTML = "Please fill in the form with proper data.";
                document.getElementById("textdata").style.backgroundColor = "lightyellow";
            }

            let keypressCount = 0;
            function countKeypresses() {
                keypressCount++;
                document.getElementById("charcount").innerHTML = "Keypress count: " + keypressCount;
            }

            function validateForm(event) {
                let textValue = document.getElementById("textdata").value;
                if (textValue === "") {
                    alert("Please fill in the text area before submitting.");
                    event.preventDefault();
                }
            }

            // Exercise 4 - onMouseMove to get coordinates
            function showCoordinates(event) {
                let x = event.clientX;
                let y = event.clientY;
                document.getElementById("coordinates").innerHTML = "X: " + x + " Y: " + y;
            }
        </script>
    </head>
    <body class="ws3">
        <h1>Workshop 3: JavaScript Events</h1>
        <hr />
        <p>In this exercise we will practice the use of JavaScript events. Use the lecture-material as a reference guide side by side with these exercises. It might also be a good idea to save the lines of code you write during the exercises for later use.</p>
        <hr/>

        <!-- Exercise 1 -->
        <h2>Exercise 1</h2>
        <p>Below you will see three buttons. Edit the source code and add an onClick-events to these buttons.</p>
        <p>
          <button onclick="showAlert()">Click me</button>
          <button onclick="showTable()">Show table</button>
          <button onclick="getGeolocation()">Geolocation</button>
        </p>

        <hr/>

        <!-- Exercise 2 -->
        <h2 onmouseover="mouseOver()" onmouseout="mouseOut()">Exercise 2</h2>
        <p>Hover your mouse over this heading and see what happens.</p>
        <hr/>

        <!-- Exercise 3 -->
        <h2>Exercise 3</h2>
        <form onsubmit="validateForm(event)">
            <textarea id="textdata" onfocus="focusTextArea()" onkeydown="countKeypresses()"></textarea><br>
            <span id="charcount"></span><br>
            <button type="submit">Send me</button>
        </form>
        <hr/>

        <!-- Exercise 4 -->
        <h2>Exercise 4</h2>
        <div id="coordinates" onmousemove="showCoordinates(event)" style="width: 200px; height: 100px; border: 1px solid black;"></div>
        <p>Move your mouse over the rectangle above to see coordinates.</p>
    </body>
</html>
